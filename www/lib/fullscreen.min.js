!function(e){var n=function(e){var n=e.module("FBAngular",[]);return n.factory("Fullscreen",["$document","$rootScope",function(n,l){var u=n[0],c="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,r=l.$new();n.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){r.$emit("FBFullscreen.change",t.isEnabled())});var t={$on:e.bind(r,r.$on),all:function(){t.enable(u.documentElement)},enable:function(e){e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?e.webkitRequestFullscreen():e.webkitRequestFullscreen(c):e.msRequestFullscreen&&e.msRequestFullscreen()},cancel:function(){u.cancelFullScreen?u.cancelFullScreen():u.mozCancelFullScreen?u.mozCancelFullScreen():u.webkitExitFullscreen?u.webkitExitFullscreen():u.msExitFullscreen&&u.msExitFullscreen()},isEnabled:function(){return!!(u.fullscreenElement||u.mozFullScreenElement||u.webkitFullscreenElement||u.msFullscreenElement)},toggleAll:function(){t.isEnabled()?t.cancel():t.all()},isSupported:function(){var e=u.documentElement;return!!(e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen)}};return t}]),n.directive("fullscreen",["Fullscreen",function(e){return{link:function(n,l,u){if(u.fullscreen){n.$watch(u.fullscreen,function(n){var u=e.isEnabled();n&&!u?(e.enable(l[0]),l.addClass("isInFullScreen")):!n&&u&&(e.cancel(),l.removeClass("isInFullScreen"))});var c=e.$on("FBFullscreen.change",function(e,c){c||n.$evalAsync(function(){n.$eval(u.fullscreen+"= false"),l.removeClass("isInFullScreen")})});n.$on("$destroy",function(){c()})}else{if(void 0!==u.onlyWatchedProperty)return;l.on("click",function(n){e.enable(l[0])})}}}}]),n};"function"==typeof define&&define.amd?define("FBAngular",["angular"],function(e){return n(e)}):"undefined"!=typeof module&&module.exports?module.exports=n(e.angular).name:n(e.angular)}(window);